---
id: java
title: Java OpenTelemetry Instrumentation
description: Send events from your Java application to SigNoz

---

# Java OpenTelemetry Instrumentation




This document contains instructions on how to set up OpenTelemetry instrumentation in your Java applications. OpenTelemetry, also known as OTel for short, is an open source observability framework that can help you generate and collect telemetry data - traces, metrics, and logs from your Java application.

OpenTelemetry Java is the language-specific implementation of OpenTelemetry in Java.

Once the telemetry data is collected, you can configure an exporter to send the data to SigNoz.

There are three major steps to using OpenTelemetry:

- Instrumenting your Java application with OpenTelemetry
- Configuring exporter to send data to SigNoz
- Validating that configuration to ensure that data is being sent as expected.


<ZoomImage
  alt="OpenTelemetry helps to generate and collect telemetry data from your application which is then sent to an observability backend like SigNoz"
  image={"/img/docs/opentelemetry_java_instrument.webp"}
  caption="OpenTelemetry helps generate and collect telemetry data from JBoss applications which can then be sent to SigNoz for storage, visualization, and analysis."
/>

There are two types of application instrumentation:

- **Auto Instrumentation**<br></br>
A completely automatic and out of box experience, with minimal code changes. For your Java application, we recommend getting started with auto instrumentation.

:::info

  If you are on K8s, you should checkout [opentelemetry operators](/docs/tutorial/opentelemetry-operator-usage/#opentelemetry-auto-instrumentation-injection) which enable auto instrumenting Java applications very easily.

:::

- **Manual Instrumentation**<br></br>
It involves writing instrumentation using OpenTelemetry SDK and API manually. You would need to get a handle to an instance of the `OpenTelemetry` interface, acquire a tracer, and create spans manually. Manual isntrumentation might also be used along with auto instrumentation.

Letâ€™s understand how to download, install, and run OpenTelemetry in Java.

## Requirements

Java 8 or higher

## Traces

You can use OpenTelemetry Java to send your traces directly to SigNoz. OpenTelemetry provides a **handy Java JAR agent** that can be attached to any Java 8+ application and dynamically injects bytecode to capture telemetry from a number of popular libraries and frameworks. 

### Steps to auto-instrument Java applications for traces

OpenTelemetry Java auto-instrumentation supports collecting telemetry data from a huge number of libraries and frameworks. You can check out the full list [here](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md).

1. **Download the latest OpenTelemetry Java JAR agent**<br></br>
   Download the latest [Java JAR agent](https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar). You can also use the terminal to get the file using the following command:
   
   ```bash
    wget https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar
    ```
    

2. **Enable the instrumentation agent and run your application**<br></br>
   If you run your Java application as a JAR file, run your application using the following command:
    
    ```bash
    OTEL_EXPORTER_OTLP_ENDPOINT="http://<IP of SigNoz Backend>:4317" OTEL_RESOURCE_ATTRIBUTES=service.name=<app_name> java -javaagent:/path/to/opentelemetry-javaagent.jar -jar  <myapp>.jar
    ```
    
    where `<app_name>` is the name you want to set for your application.Â `path` should be updated to the path of the downloaded Java JAR agent.
    
    
    In the above command, we are configuring the exporter to send data to SigNoz backend. By default, OpenTelemetry Java agent usesÂ [OTLP exporter](https://github.com/open-telemetry/opentelemetry-java/tree/main/exporters/otlp) configured to send data.<br></br>
    
    Two things to note about the command:<br></br>

    `OTEL_EXPORTER_OTLP_ENDPOINT` - This is the endpoint of the machine where SigNoz is installed.

    `path/to` -  Update it to the path of your downloaded Java JAR agent.<br></br>
    
    If you have installed SigNoz on your `localhost` and your Java JAR agent is saved at `/Users/john/Downloads/`, then the final command looks like:<br></br>
    
    ```bash
    OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4317" OTEL_RESOURCE_ATTRIBUTES=service.name=javaApp java -javaagent:/Users/john/Downloads/opentelemetry-javaagent.jar -jar target/*.jar
    ```
    
    Hereâ€™s a handy [grid](https://signoz.io/docs/instrumentation/troubleshoot-instrumentation/) to figure out which address to use to send data to SigNoz.
    
    You can also specify environment variables in the following way:
    
    ```bash
    java -javaagent:/path/opentelemetry-javaagent.jar \
        -Dotel.exporter.otlp.endpoint=http://<IP of SigNoz Backend>:4317 \
        -Dotel.resource.attributes=service.name=<app_name> \
        -jar <myapp>.jar
    ```
    

:::note
ðŸ’¡ Remember to allow incoming requests to port 4317 of the machine where SigNoz backend is hosted.
:::

### Validating instrumentation by checking for traces

With your application running, you can verify that youâ€™ve instrumented your application with OpenTelemetry correctly by confirming that tracing data is being reported to SigNoz.

To do this, you need to ensure that your application generates some data. Applications will not produce traces unless they are being interacted with, and OpenTelemetry will often buffer data before sending. So you need to interact with your application and wait for some time to see your tracing data in SigNoz.

#### Validate your traces in SigNoz:

1. Trigger an action in your app that generates a web request. Hit the endpoint a number of times to generate some data. Then, wait for some time.
2. In SigNoz, open theÂ `Services`Â tab. Hit theÂ `Refresh`Â button on the top right corner, and your application should appear in the list ofÂ `Applications`.
3. Go to theÂ `Traces`Â tab, and apply relevant filters to see your applicationâ€™s traces.

You might see other dummy applications if youâ€™re using SigNoz for the first time. You can remove it by following the docsÂ [here](https://signoz.io/docs/operate/docker-standalone/#remove-the-sample-application).

<ZoomImage
  alt="Java Application in the list of services being monitored in SigNoz"
  image={"/img/docs/java_app_services_list.webp"}
  caption="Java Application in the list of services being monitored in SigNoz"
/>

If you don't see your application reported in the list of services, try our [troubleshooting](https://signoz.io/docs/install/troubleshooting/) guide.

### Configuring the agent

The agent is highly configurable. You can check out all the configuration options available [here](https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/).

### Disabled instrumentations

Some instrumentations can produce too many spans and make traces very noisy. For this reason, the following instrumentations are disabled by default:

- `jdbc-datasource`Â which creates spans whenever theÂ `java.sql.DataSource#getConnection`Â method is called.
- `dropwizard-metrics`,Â which might create very low-quality metrics data because of the lack of label/attribute support in the Dropwizard metrics API.

To enable them, add theÂ `otel.instrumentation.<name>.enabled`Â system property:Â `-Dotel.instrumentation.jdbc-datasource.enabled=true`

### Manual Instrumentation

For manual instrumentation of Java application, refer to the docs [here](https://opentelemetry.io/docs/instrumentation/java/manual/).


## Troubleshooting your installation

If spans are not being reported to SigNoz, try running in debug mode by setting `OTEL_LOG_LEVEL=debug`:

The debug log level will print out the configuration information. It will also emit every span to the console, which should look something like:

```bash

Span {
  attributes: {},
  links: [],
  events: [],
  status: { code: 0 },
  endTime: [ 1597810686, 885498645 ],
  _ended: true,
  _duration: [ 0, 43333 ],
  name: 'bar',
  spanContext: {
    traceId: 'eca3cc297720bd705e734f4941bca45a',
    spanId: '891016e5f8c134ad',
    traceFlags: 1,
    traceState: undefined
  },
  parentSpanId: 'cff3a2c6bfd4bbef',
  kind: 0,
  startTime: [ 1597810686, 885455312 ],
  resource: Resource { labels: [Object] },
  instrumentationLibrary: { name: 'example', version: '*' },
  _logger: ConsoleLogger {
    debug: [Function],
    info: [Function],
    warn: [Function],
    error: [Function]
  },
  _traceParams: {
    numberOfAttributesPerSpan: 32,
    numberOfLinksPerSpan: 32,
    numberOfEventsPerSpan: 128
  },
  _spanProcessor: MultiSpanProcessor { _spanProcessors: [Array] }
},
```

<p>&nbsp;</p>

<InstrumentationFAQ />
